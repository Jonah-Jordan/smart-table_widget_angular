<ng-container *ngIf="filter && filter.options && filter.id">
    <div class="a-input has-icon-right u-grouped aui-select-filter" [ngClass]="{ 'a-input--small optional': optional }">
        <label class="a-input__label" [for]="id">{{ filter.label }}</label>
        <div class="a-input__left">
            <div class="a-input__wrapper a-input--filter">
                <ng-select
                    class="u-margin-bottom-xs"
                    (add)="totalSelected = totalSelected + 1"
                    (remove)="totalSelected = totalSelected - 1"
                    [id]="id"
                    [multiple]="true"
                    [formControl]="formControl"
                    [closeOnSelect]="false"
                    placeholder="0 geselecteerd"
                    #selectDropdown
                    ngDefaultControl
                >
                    <ng-template ng-multi-label-tmp>
                        <span style="display: block" class="ng-placeholder">{{ totalSelected }} geselecteerd</span></ng-template
                    >

                    <ng-option *ngFor="let option of filter.options" [value]="option.id">{{ option.label }}</ng-option>
                </ng-select>
                <aui-icon name="ai-arrow-down-1" style="font-size: 1rem;" ></aui-icon>
            </div>
        </div>
        <div class="a-button__right">
            <button class="a-button-transparent a-button--small a-button--danger has-icon" (click)="removeAllSelectedValues(formControl)">
                <aui-icon name="ai-close" style="color: red; font-size: 0.9rem; width: 18px;" aria-hidden="true" title="Verwijder geselecteerde items"></aui-icon>
            </button>
        </div>
        <div *ngIf="showTags">
            <div class="m-tag u-margin-right-xs u-margin-bottom-xs" *ngFor="let value of formControl.value">
                <span class="m-tag__label">{{ searchCorrectLabel(value) }}</span>
                <button
                    class="a-button-transparent a-button--small a-button--danger has-icon"
                    aria-label="Delete"
                    (click)="removeFilterOptions(value)"
                >
                <aui-icon name="ai-close" aria-hidden="true"></aui-icon>
                </button>
            </div>
        </div>
    </div>
</ng-container>
